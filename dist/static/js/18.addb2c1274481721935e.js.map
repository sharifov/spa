{"version":3,"sources":["webpack:///./src/components/RemindPassword.vue?9e7a","webpack:///./src/components/RemindPassword.vue?25e3","webpack:///src/components/RemindPassword.vue","webpack:///./src/components/RemindPassword.vue"],"names":["components_RemindPasswordvue_type_script_lang_js_","data","user","phone","password","passwordConfirm","type","code","sentCode","token","hidePw","phoneRules","v","length","codeRules","passwordRules","computed","comparePasswords","this","loading","$store","state","created","Focus","methods","id","$nextTick","document","getElementById","focus","Reset","Back","$router","push","SendCode","app","getters","axl","post","then","catch","error","dispatch","CheckCode","response","Remind","formData","msg","component","Object","componentNormalizer","a","_vm","_h","$createElement","_c","_self","attrs","fluid","fill-height","row","wrap","max","lg4","offset-lg4","md8","offset-md2","xs12","staticClass","on","click","_v","directives","name","rawName","value","expression","staticStyle","display","label","placeholder","autofocus","required","rules","model","callback","$$v","$set","color","disabled","_s","autocomplete","submit","$event","preventDefault","append-icon","counter","click:append","__webpack_exports__","default"],"mappings":"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","file":"static/js/18.addb2c1274481721935e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"max\":\"\"}},[_c('v-flex',{attrs:{\"lg4\":\"\",\"offset-lg4\":\"\",\"md8\":\"\",\"offset-md2\":\"\",\"xs12\":\"\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary\"},[_c('v-icon',{on:{\"click\":_vm.Back}},[_vm._v(\"arrow_back\")]),_vm._v(\"\\n          Сменить пароль\\n        \")],1),_vm._v(\" \"),_c('v-card-text',{staticClass:\"pt-4\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.sentCode && !_vm.token),expression:\"!sentCode && !token\"}]},[_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"text\"}}),_vm._v(\" \"),_c('v-text-field',{directives:[{name:\"mask\",rawName:\"v-mask\",value:('+7 (###) ###-####'),expression:\"'+7 (###) ###-####'\"}],attrs:{\"type\":\"text\",\"label\":\"Номер телефона\",\"id\":\"remindPhone\",\"placeholder\":\"\",\"autofocus\":\"\",\"required\":\"\",\"rules\":_vm.phoneRules},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}}),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"pa-0 justify-space-between\"},[_c('v-btn',{attrs:{\"color\":\"primary--btn\",\"disabled\":_vm.loading},on:{\"click\":_vm.SendCode}},[_vm._v(\"Отправить код\")])],1)],1),_vm._v(\" \"),_c('h3',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sentCode || _vm.token),expression:\"sentCode || token\"}]},[_vm._v(_vm._s(_vm.user.phone))]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.sentCode && !_vm.token),expression:\"sentCode && !token\"}]},[_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"number\"}}),_vm._v(\" \"),_c('v-text-field',{directives:[{name:\"mask\",rawName:\"v-mask\",value:('#####'),expression:\"'#####'\"}],attrs:{\"id\":\"remindCode\",\"label\":\"Проверочный код\",\"placeholder\":\"\",\"required\":\"\",\"rules\":_vm.codeRules,\"type\":\"number\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}}),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"pa-0 justify-space-between\"},[_c('v-btn',{attrs:{\"color\":\"primary--btn\",\"disabled\":_vm.loading},on:{\"click\":_vm.CheckCode}},[_vm._v(\"Проверить код\")])],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.token),expression:\"token\"}]},[_c('form',{attrs:{\"autocomplete\":\"off\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.Remind($event)}}},[_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"password\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"append-icon\":_vm.hidePw ? 'visibility_off' : 'visibility',\"counter\":\"\",\"id\":\"remindPassword\",\"label\":\"Пароль\",\"placeholder\":\"\",\"required\":\"\",\"rules\":_vm.passwordRules,\"type\":_vm.hidePw ? 'password' : 'text'},on:{\"click:append\":function($event){_vm.hidePw = !_vm.hidePw}},model:{value:(_vm.user.password),callback:function ($$v) {_vm.$set(_vm.user, \"password\", $$v)},expression:\"user.password\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"append-icon\":_vm.hidePw ? 'visibility_off' : 'visibility',\"counter\":\"\",\"label\":\"Пароль\",\"placeholder\":\"\",\"required\":\"\",\"rules\":[_vm.comparePasswords],\"type\":_vm.hidePw ? 'password' : 'text'},on:{\"click:append\":function($event){_vm.hidePw = !_vm.hidePw}},model:{value:(_vm.user.passwordConfirm),callback:function ($$v) {_vm.$set(_vm.user, \"passwordConfirm\", $$v)},expression:\"user.passwordConfirm\"}}),_vm._v(\" \"),_c('v-card-actions',{staticClass:\"pa-0 justify-space-between\"},[_c('v-btn',{attrs:{\"color\":\"primary--btn\",\"type\":\"submit\",\"disabled\":_vm.loading}},[_vm._v(\"Задать пароль\")])],1)],1)])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemindPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemindPassword.vue?vue&type=script&lang=js&\"","<template>\n  <v-container fluid fill-height>\n    <v-layout row wrap max>\n\n      <v-flex lg4 offset-lg4 md8 offset-md2 xs12>\n        <v-card>\n          <v-card-title class=\"primary\">\n            <v-icon @click=\"Back\">arrow_back</v-icon>\n            Сменить пароль\n          </v-card-title>\n          <v-card-text class=\"pt-4\">\n            <div v-show=\"!sentCode && !token\">\n              <input style=\"display:none\" type=\"text\">\n              <v-text-field\n                type=\"text\"\n                label=\"Номер телефона\"\n                id=\"remindPhone\"\n                v-model=\"user.phone\"\n                placeholder=\"\"\n                v-mask=\"'+7 (###) ###-####'\"\n                autofocus\n                required\n                :rules=\"phoneRules\"\n              ></v-text-field>\n              <v-card-actions class=\"pa-0 justify-space-between\">\n                <v-btn color=\"primary--btn\" :disabled=\"loading\" @click=\"SendCode\">Отправить код</v-btn>\n              </v-card-actions>\n            </div>\n\n            <h3 v-show=\"sentCode || token\">{{user.phone}}</h3>\n\n            <div v-show=\"sentCode && !token\">\n              <input style=\"display:none\" type=\"number\">\n\n              <v-text-field\n                id=\"remindCode\"\n                label=\"Проверочный код\"\n                v-mask=\"'#####'\"\n                v-model=\"code\"\n                placeholder=\"\"\n                required\n                :rules=\"codeRules\"\n                type=\"number\"\n              ></v-text-field>\n\n              <v-card-actions class=\"pa-0 justify-space-between\">\n                <v-btn color=\"primary--btn\" :disabled=\"loading\" @click=\"CheckCode\">Проверить код</v-btn>\n              </v-card-actions>\n            </div>\n\n            <div v-show=\"token\">\n              <form @submit.prevent=\"Remind\" autocomplete=\"off\">\n                <input style=\"display:none\" type=\"password\">\n\n                <!--type=\"password\"-->\n\n                <v-text-field\n                  :append-icon=\"hidePw ? 'visibility_off' : 'visibility'\"\n                  @click:append=\"hidePw = !hidePw\"\n                  counter\n                  id=\"remindPassword\"\n                  label=\"Пароль\"\n                  placeholder=\"\"\n                  required\n                  :rules=\"passwordRules\"\n                  :type=\"hidePw ? 'password' : 'text'\"\n                  v-model=\"user.password\"\n                ></v-text-field>\n\n                <!--type=\"password\"-->\n\n                <v-text-field\n                  :append-icon=\"hidePw ? 'visibility_off' : 'visibility'\"\n                  @click:append=\"hidePw = !hidePw\"\n                  counter\n                  label=\"Пароль\"\n                  placeholder=\"\"\n                  required\n                  :rules=\"[comparePasswords]\"\n                  :type=\"hidePw ? 'password' : 'text'\"\n                  v-model=\"user.passwordConfirm\"\n                ></v-text-field>\n\n                <v-card-actions class=\"pa-0 justify-space-between\">\n                  <v-btn color=\"primary--btn\" type=\"submit\" :disabled=\"loading\">Задать пароль</v-btn>\n                </v-card-actions>\n              </form>\n            </div>\n          </v-card-text>\n        </v-card>\n      </v-flex>\n\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        user: {\n          phone: '',\n          password: '',\n          passwordConfirm: '',\n        },\n        type: 'sms_profile',\n        code: '',\n        sentCode: false,\n        token: null,\n        hidePw: true,\n        phoneRules: [\n          v => (!v.length || v.length >= 17) || 'Номер телефона заполнен не полностью',\n        ],\n        codeRules: [\n          v => !!v || 'Укажите проверочный код',\n        ],\n        passwordRules: [\n          v => !!v || 'Укажите пароль',\n        ],\n      };\n    },\n    computed: {\n      comparePasswords() {\n        return this.user.password === this.user.passwordConfirm ? true : 'Пароли не совпадают';\n      },\n      loading() {\n        return this.$store.state.loading;\n      },\n    },\n    created() {\n      this.Focus('remindPhone');\n    },\n    methods: {\n      Focus(id) {\n        this.$nextTick(() => {\n          document.getElementById(id).focus();\n        });\n      },\n      Reset() {\n        this.user = {\n          phone: '',\n          password: '',\n          passwordConfirm: '',\n        };\n        this.sentCode = false;\n        this.code = '';\n        this.token = null;\n        this.Focus('remindPhone');\n      },\n      Back() {\n        this.Reset();\n        this.$router.push('/login');\n      },\n      SendCode() {\n        const app = this;\n        app.$store.getters.axl.post('api/token/get-sms', { phone: app.user.phone, type: app.type })\n          .then(() => {\n            app.sentCode = true;\n            app.Focus('remindCode');\n          })\n          .catch((error) => {\n            app.$store.dispatch('HandleError', error);\n            app.Focus('remindPhone');\n          });\n      },\n      CheckCode() {\n        const app = this;\n        app.$store.getters.axl.post('api/token/check-sms', { phone: app.user.phone, type: app.type, code: app.code })\n          .then((response) => {\n            app.token = response.data.token;\n            app.Focus('regLastName');\n          })\n          .catch((error) => {\n            app.$store.dispatch('HandleError', error);\n            app.Focus('regCode');\n          });\n      },\n      Remind() {\n        const app = this;\n        const formData = app.user;\n        formData.token = app.token;\n\n        app.$store.getters.axl.post('api/remind', formData)\n          .then((response) => {\n            app.Reset();\n            app.$store.dispatch('ShowInfo', response.data.msg);\n            app.$router.push('/login');\n          })\n          .catch((error) => {\n            app.$store.dispatch('HandleError', error);\n          });\n      },\n    },\n  };\n</script>\n","import { render, staticRenderFns } from \"./RemindPassword.vue?vue&type=template&id=6b864320&\"\nimport script from \"./RemindPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./RemindPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}