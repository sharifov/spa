{"version":3,"sources":["webpack:///./src/components/PrizesPayments.vue?2ade","webpack:///./src/components/PrizesPayments.vue?7a08","webpack:///src/components/PrizesPayments.vue","webpack:///./src/components/PrizesPayments.vue"],"names":["components_PrizesPaymentsvue_type_script_lang_js_","data","_this","this","current","settings","paymentFinish","form","value","amount","valid","taxes","sum","string","patternNumber","patternPurse","rules","required","phoneLength","length","cardLength","number","test","purse","computed","user","$store","state","userGroup","group","isAuthenticated","getters","paymentsInfo","methods","hasTaxes","GetPaymentsSettings","app","axl","post","login","password","then","response","dispatch","$router","push","catch","error","handleChangeMethod","item","ResetForm","GetTaxes","params","profile_id","type","ax","parseInt","commission","paymentSubmit","_this2","payment","parameters","phone_mobile","$refs","reset","DeclOfNum","num","mounted","n","r","component","Object","componentNormalizer","a","_vm","_h","$createElement","_c","_self","attrs","fluid","pa-0","mb-5","max","xs12","staticClass","_v","_e","to","column","wrap","row","_l","key","id","class","paymentsMemuActiveItem","paymentsMemuItem","ma-2","on","click","$event","_s","title","ref","autocomplete","validation","model","callback","$$v","$set","expression","label","directives","name","rawName","min","input","certificates_price_coefficient","Math","round","disabled","__webpack_exports__","default"],"mappings":"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","file":"static/js/16.f144e972e0881ad1ebf2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"pa-0\":\"\",\"mb-5\":\"\"}},[_c('v-layout',{attrs:{\"max\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[(!_vm.paymentFinish && !!_vm.paymentsInfo && _vm.paymentsInfo.length)?_c('v-card-title',{staticClass:\"px-0\"},[_vm._v(\"\\n        Перевод на мобильный телефон:\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.paymentFinish)?[_c('v-card-title',{staticClass:\"px-0\"},[_vm._v(\"Перевод успешно отправлен\")]),_vm._v(\" \"),_c('div',[_vm._v(\"Ваш платеж принят в работу. Платеж будет обработан в ближайшее время.\")]),_vm._v(\" \"),_c('v-btn',{staticClass:\"iek-btn auto-width\",attrs:{\"to\":\"/profile-transactions\"}},[_vm._v(\"Все платежи\")])]:_vm._e()],2)],1),_vm._v(\" \"),(!_vm.paymentFinish && !!_vm.paymentsInfo && _vm.paymentsInfo.length)?_c('v-layout',{staticClass:\"payments\",attrs:{\"max\":\"\",\"column\":\"\",\"wrap\":\"\"}},[_c('div',{staticClass:\"payments--types\"},[(_vm.user)?_c('v-layout',{staticClass:\"paymentsMemu pt-0\",attrs:{\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.paymentsInfo),function(item){return _c('v-flex',{key:item.id,class:[{paymentsMemuActiveItem: item.type == _vm.current.type, paymentsMemuItem: true}],attrs:{\"ma-2\":\"\"},on:{\"click\":function($event){return _vm.handleChangeMethod(item)}}},[_c('div',{class:(\"ico-\" + (item.type) + \" mode\")},[_c('span',{staticClass:\"mode-title\"},[_vm._v(_vm._s(item.title))])])])}),1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"payments--number\"},[_c('v-form',{ref:\"form\",staticClass:\"prizes-form\",attrs:{\"autocomplete\":\"off\",\"validation\":\"\"},model:{value:(_vm.form.valid),callback:function ($$v) {_vm.$set(_vm.form, \"valid\", $$v)},expression:\"form.valid\"}},[(_vm.current.type === 'yandex' || _vm.current.type === 'webmoney')?_c('v-text-field',{attrs:{\"type\":\"num\",\"label\":_vm.current.title,\"rules\":[_vm.rules.required, _vm.rules.purse]},model:{value:(_vm.form.value),callback:function ($$v) {_vm.$set(_vm.form, \"value\", $$v)},expression:\"form.value\"}}):_vm._e(),_vm._v(\" \"),(_vm.current.type === 'rbs')?_c('v-text-field',{attrs:{\"type\":\"text\",\"label\":_vm.current.title,\"rules\":[_vm.rules.required, _vm.rules.number]},model:{value:(_vm.form.value),callback:function ($$v) {_vm.$set(_vm.form, \"value\", $$v)},expression:\"form.value\"}}):_vm._e(),_vm._v(\" \"),(_vm.current.type === 'phone' || _vm.current.type === 'qiwi')?_c('v-text-field',{directives:[{name:\"mask\",rawName:\"v-mask\",value:('+7 (###) ###-####'),expression:\"'+7 (###) ###-####'\"}],attrs:{\"type\":\"text\",\"label\":_vm.current.title,\"rules\":[_vm.rules.required, _vm.rules.phoneLength]},model:{value:(_vm.form.value),callback:function ($$v) {_vm.$set(_vm.form, \"value\", $$v)},expression:\"form.value\"}}):_vm._e(),_vm._v(\" \"),(_vm.current.type === 'card')?_c('v-text-field',{directives:[{name:\"mask\",rawName:\"v-mask\",value:('#### #### #### ####'),expression:\"'#### #### #### ####'\"}],attrs:{\"type\":\"text\",\"label\":_vm.current.title,\"rules\":[_vm.rules.required, _vm.rules.cardLength]},model:{value:(_vm.form.value),callback:function ($$v) {_vm.$set(_vm.form, \"value\", $$v)},expression:\"form.value\"}}):_vm._e(),_vm._v(\" \"),_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Сумма\",\"id\":\"amount\",\"min\":\"1\",\"rules\":[_vm.rules.required, _vm.rules.amount]},on:{\"input\":_vm.GetTaxes},model:{value:(_vm.form.amount),callback:function ($$v) {_vm.$set(_vm.form, \"amount\", $$v)},expression:\"form.amount\"}})],1),_vm._v(\" \"),(_vm.hasTaxes && _vm.taxes.sum > 0 && _vm.form && _vm.form.amount > 0)?[(!!_vm.userGroup && !!+_vm.userGroup.certificates_price_coefficient)?_c('div',[_vm._v(\"\\n          Спишется \"+_vm._s(Math.round(_vm.taxes.sum * _vm.userGroup.certificates_price_coefficient))+\"\\n          \"+_vm._s(_vm.DeclOfNum(Math.round(_vm.taxes.sum * _vm.userGroup.certificates_price_coefficient)))+\"\\n        \")]):_c('div',[_vm._v(\"\\n          Спишется \"+_vm._s(_vm.taxes.sum)+\"\\n          \"+_vm._s(_vm.DeclOfNum(_vm.taxes.sum))+\"\\n        \")])]:_vm._e(),_vm._v(\" \"),_c('v-btn',{staticClass:\"iek-btn\",attrs:{\"disabled\":!_vm.form.valid},on:{\"click\":_vm.paymentSubmit}},[_vm._v(\"\\n        Перевести\\n      \")])],2)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrizesPayments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrizesPayments.vue?vue&type=script&lang=js&\"","<template>\n  <v-container fluid pa-0 mb-5>\n    <v-layout max>\n      <v-flex xs12>\n        <v-card-title v-if=\"!paymentFinish && !!paymentsInfo && paymentsInfo.length\" class=\"px-0\">\n          Перевод на мобильный телефон:\n        </v-card-title>\n\n        <template v-if=\"paymentFinish\">\n          <v-card-title class=\"px-0\">Перевод успешно отправлен</v-card-title>\n          <div>Ваш платеж принят в работу. Платеж будет обработан в ближайшее время.</div>\n          <v-btn class=\"iek-btn auto-width\" to=\"/profile-transactions\">Все платежи</v-btn>\n        </template>\n\n      </v-flex>\n    </v-layout>\n\n    <v-layout max column wrap v-if=\"!paymentFinish && !!paymentsInfo && paymentsInfo.length\" class=\"payments\">\n      <div class=\"payments--types\">\n        <v-layout class=\"paymentsMemu pt-0\" v-if=\"user\" row wrap>\n          <v-flex\n            ma-2\n            v-for=\"item in paymentsInfo\"\n            :key=\"item.id\"\n            @click=\"handleChangeMethod(item)\"\n            :class=\"[{paymentsMemuActiveItem: item.type == current.type, paymentsMemuItem: true}]\"\n          >\n            <div :class=\"`ico-${item.type} mode`\">\n              <span class=\"mode-title\">{{ item.title }}</span>\n            </div>\n          </v-flex>\n        </v-layout>\n      </div>\n\n      <div class=\"payments--number\">\n        <v-form\n            autocomplete=\"off\"\n            ref=\"form\"\n            validation\n            v-model=\"form.valid\"\n            class=\"prizes-form\"\n        >\n          <v-text-field\n              v-if=\"current.type === 'yandex' || current.type === 'webmoney'\"\n              type=\"num\"\n              :label=\"current.title\"\n              v-model=\"form.value\"\n              :rules=\"[rules.required, rules.purse]\"\n          ></v-text-field>\n          <v-text-field\n              v-if=\"current.type === 'rbs'\"\n              type=\"text\"\n              :label=\"current.title\"\n              v-model=\"form.value\"\n              :rules=\"[rules.required, rules.number]\"\n          ></v-text-field>\n          <v-text-field\n              v-if=\"current.type === 'phone' || current.type === 'qiwi'\"\n              type=\"text\"\n              :label=\"current.title\"\n              v-model=\"form.value\"\n              v-mask=\"'+7 (###) ###-####'\"\n              :rules=\"[rules.required, rules.phoneLength]\"\n          ></v-text-field>\n          <v-text-field\n              v-if=\"current.type === 'card'\"\n              type=\"text\"\n              :label=\"current.title\"\n              v-model=\"form.value\"\n              v-mask=\"'#### #### #### ####'\"\n              :rules=\"[rules.required, rules.cardLength]\"\n          ></v-text-field>\n          <v-text-field\n              type=\"number\" label=\"Сумма\" id=\"amount\"\n              v-model=\"form.amount\"\n              @input=\"GetTaxes\"\n              min=\"1\"\n              :rules=\"[rules.required, rules.amount]\"\n          ></v-text-field>\n        </v-form>\n\n        <template v-if=\"hasTaxes && taxes.sum > 0 && form && form.amount > 0\">\n          <div v-if=\"!!userGroup && !!+userGroup.certificates_price_coefficient\">\n            Спишется {{ Math.round(taxes.sum * userGroup.certificates_price_coefficient)}}\n            {{ DeclOfNum(Math.round(taxes.sum * userGroup.certificates_price_coefficient)) }}\n          </div>\n          <div v-else>\n            Спишется {{ taxes.sum}}\n            {{ DeclOfNum(taxes.sum) }}\n          </div>\n        </template>\n\n        <v-btn\n          :disabled=\"!form.valid\"\n          @click=\"paymentSubmit\"\n          class=\"iek-btn\"\n        >\n          Перевести\n        </v-btn>\n      </div>\n    </v-layout>\n\n    <!--<v-layout max row wrap v-if=\"paymentFinish\">-->\n      <!--<v-flex xs12 lg6 offset-lg3 px-3 mb-4>-->\n        <!--<v-card>-->\n          <!--<v-card-title class=\"primary body-1\">Перевод успешно отправлен</v-card-title>-->\n          <!--<v-card-text>Ваш платеж принят в работу. Платеж будет обработан в ближайшее время.</v-card-text>-->\n          <!--<v-card-actions class=\"pa-3\">-->\n            <!--<v-spacer></v-spacer>-->\n            <!--<v-btn class=\"mt-3\" @click=\"paymentFinish = !paymentFinish\">Завершить</v-btn>-->\n            <!--<v-btn class=\"primary mt-3\" to=\"/purse\">Все платежи</v-btn>-->\n          <!--</v-card-actions>-->\n        <!--</v-card>-->\n      <!--</v-flex>-->\n    <!--</v-layout>-->\n\n  </v-container>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        current: {},\n        settings: [],\n        paymentFinish: false,\n        form: {\n          value: '',\n          amount: '',\n          valid: true,\n        },\n        taxes: { sum: '', string: '' },\n        patternNumber: /^\\d{1,10}$/,\n        patternPurse: /^\\d{12,15}$/,\n        rules: {\n          required: value => !!value || 'Поле должно быть заполнено',\n          phoneLength: value => (value && value.length >= 17) || 'Номер телефона заполнен не полностью',\n          cardLength: value => (value && value.length >= 19) || 'Номер карты заполнен не полностью',\n          number: value => this.patternNumber.test(value) || 'Поле должно содержать только целые числа',\n          amount: value => (!!+value && this.patternNumber.test(value)) || 'Сумма должна быть больше нуля',\n          purse: value => this.patternPurse.test(value) || 'Поле должно содержать только целые числа',\n        },\n      };\n    },\n    computed: {\n      user() {\n        return this.$store.state.user;\n      },\n      userGroup() {\n        const tempUser = !!this.user;\n        return tempUser ? this.$store.state.user.group : null;\n      },\n      isAuthenticated() {\n        return this.$store.getters.isAuthenticated;\n      },\n      paymentsInfo() {\n        return this.$store.state.paymentsInfo.methods;\n      },\n      hasTaxes() {\n        return this.$store.state.settings.taxes === true;\n      },\n    },\n    methods: {\n      GetPaymentsSettings() {\n        const app = this;\n        app.$store.getters.axl.post('api/login', { login: app.login, password: app.password })\n          .then((response) => {\n            app.$store.dispatch('UserLogin', response.data);\n            app.$router.push('/dashboard');\n          })\n          .catch((error) => {\n            app.$store.dispatch('HandleError', error);\n          });\n      },\n      handleChangeMethod(item) {\n        this.current = item;\n        this.ResetForm();\n      },\n      GetTaxes(amount) {\n        // eslint-disable-next-line\n        if (!!+amount) {\n          const app = this;\n          const params = {\n            profile_id: app.user.profile_id,\n            amount,\n            type: app.current.type,\n          };\n\n          this.$store.getters.ax.post('payments/api-v3/payments/calculate', params)\n            .then((response) => {\n              app.taxes = {\n                sum: parseInt(response.data.amount, 10) + parseInt(response.data.commission, 10),\n              };\n            })\n            .catch(() => {\n              app.taxes = { sum: '' };\n            });\n        }\n      },\n      paymentSubmit() {\n        const app = this;\n        if (app.form.valid) {\n          const payment = {\n            profile_id: app.user.profile_id,\n            type: app.current.type,\n            amount: app.form.amount,\n            parameters: {\n              phone_mobile: app.form.value,\n            },\n          };\n          app.$store.getters.axl.post('payments/api-v3/payments/create', payment)\n            .then(() => {\n              app.ResetForm();\n              this.$store.dispatch('GetProfile');\n              app.paymentFinish = true;\n            })\n            .catch((error) => {\n              app.$store.dispatch('HandleError', error);\n            });\n        }\n      },\n      ResetForm() {\n        this.$refs.form.reset();\n        this.form.amount = '';\n        this.form.value = '';\n        this.taxes = { sum: '', string: '' };\n      },\n      DeclOfNum(number) {\n        const cases = [2, 0, 1, 1, 1, 2];\n        const num = +number;\n        const titles = ['балл', 'балла', 'баллов'];\n\n        return titles[(num % 100 > 4 && num % 100 < 20) ? 2 : cases[(num % 10 < 5) ? num % 10 : 5]];\n      },\n    },\n    mounted() {\n      // eslint-disable-next-line\n      this.current = this.paymentsInfo[0];\n    },\n  };\n</script>\n","import { render, staticRenderFns } from \"./PrizesPayments.vue?vue&type=template&id=9beba3ae&\"\nimport script from \"./PrizesPayments.vue?vue&type=script&lang=js&\"\nexport * from \"./PrizesPayments.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}